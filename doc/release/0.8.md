# Test

- Use [anyio](https://anyio.readthedocs.io) auto mode
- Add sensor node test to print Base64 encoded MAC address (used as Bluetooth name):

  ```sh
  icotest run -k 'sensor_node and base64'
  ```

- We now store the sensor node name in the metadata of the test for the Base64 encoded MAC address. To produce the JSON metadata, please add the option `--json-report` to the test command:

  ```sh
  icotest run --json-report -k 'sensor_node and base64'
  ```

  After this command finished successfully there should be a file `.report.json` in the current working directory that stores the name in an object with the key `Sensor Node Name`. For the example above you can print the name using the following [`yq`](https://github.com/mikefarah/yq) command:

  ```sh
  yq '.tests[0].metadata.["Sensor Node Name"]' .report.json
  ```
